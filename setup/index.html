<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Chris Spencer">
  
  <title>Setup - Homebot</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Setup";
    var mkdocs_page_input_path = "setup.md";
    var mkdocs_page_url = "/setup/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Homebot</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../tools/">Tools</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../parts/">Parts & Supplies</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Setup</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#software-setup">Software Setup</a></li>
                
                    <li><a class="toctree-l4" href="#structure">Structure</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-the-deployment-machine">Configuring the Deployment Machine</a></li>
                
                    <li><a class="toctree-l4" href="#new-install-checklist">New Install Checklist</a></li>
                
                    <li><a class="toctree-l4" href="#installing-the-operating-system">Installing the Operating System</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../hardware/">Hardware</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../software/">Software</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../experiment/">Experiment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Development</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Homebot</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Setup</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/chrisspen/homebot" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="software-setup">Software Setup</h1>
<h2 id="structure">Structure</h2>
<p>Configuring your robot will require two computers. The first is the Raspberry Pi physically located on the robot. The second is the deployment machine, where the robot's base code and configuration will be managed from and eventually deployed to the Raspberry Pi. Both computers are assumed to be running Linux.</p>
<h2 id="configuring-the-deployment-machine">Configuring the Deployment Machine</h2>
<p>Assuming your deployment machine is one you're reading this documentation from, your localhost, start by checking out this project via git. Open a terminal in a directory where you keep your Git projects and run:</p>
<pre><code>git clone https://github.com/chrisspen/homebot.git
</code></pre>
<p>Initialize your deployment environment by running:</p>
<pre><code>./bootstrap
</code></pre>
<p>This command creates a Python virtual environment and installs a few required packages.</p>
<p>Note, any command presented in this guide beginning with "fab" should be run in a terminal from the project's root directory. Also, that terminal must first have your virtual environment activated by running:</p>
<pre><code>. ./setup.bash
</code></pre>
<p>Set your custom settings by running:</p>
<pre><code>cp roles/local/settings_local.yaml.template roles/local/settings_local.yaml
</code></pre>
<p>By default, it's assumed your deployment machine is running Ubuntu 16.04. Edit this file to select a different OS.</p>
<p>Next, install ROS by running:</p>
<pre><code>. ./setup.bash
fab local ros.configure
</code></pre>
<h2 id="new-install-checklist">New Install Checklist</h2>
<p>Decide on the hostname for your robot. For all intents and purposes, the robot will function like a Linux server</p>
<ol>
<li>
<p>Ensure you've purged the domain name from your local router's DHCP cache, or it could interfere with the install.</p>
<p>$ ping <domain>
ping: unknown host <domain></p>
</li>
<li>
<p>Purge all old SSH keys:</p>
<p>fab prod host.purge_keys</p>
</li>
</ol>
<h2 id="installing-the-operating-system">Installing the Operating System</h2>
<ol>
<li>
<p>Set your custom settings by running:</p>
<p>cp roles/prod/settings_local.yaml.template roles/prod/settings_local.yaml</p>
</li>
</ol>
<p>This file represents your custom software configurations to the robot and will override any defaults.</p>
<p>Edit the values in this file to suite your preferences. At the very least, you'll need to specify your wifi SSID and password so you can access the robot remotely.</p>
<ol>
<li>
<p>Insert an SD card into the card reader on your deployment machine and run:</p>
<p>fab local rpi.init_raspbian_disk</p>
</li>
<li>
<p>Insert card into Pi and power on.</p>
</li>
<li>
<p>Begin installation using:</p>
<p>fab prod deploy.run</p>
</li>
</ol>
<p>Note, this may take up to 5 hours to complete.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../hardware/" class="btn btn-neutral float-right" title="Hardware">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../parts/" class="btn btn-neutral" title="Parts & Supplies"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/chrisspen/homebot" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../parts/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../hardware/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
